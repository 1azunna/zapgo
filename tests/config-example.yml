--- # OWASP ZAP automation configuration file, for more details see https://www.zaproxy.org/docs/automate/automation-framework/
env:
  contexts:
  - name: "Context1"
    urls:
      - http://www.example.com
    includePaths:
      - ".*"
    excludePaths: []
  parameters:
    failOnError: false
    failOnWarning: false
    progressToStdout: true
  vars: {}

jobs:
- type: "passiveScan-config"
  name: "passiveScan-config"
  parameters:
    maxAlertsPerRule: 0
    scanOnlyInScope: true
    maxBodySizeInBytesToScan: 0
    enableTags: false
  rules:
    - id: 2
    - id: 10003
    - id: 10010
    - id: 10011
    - id: 10023
    - id: 10024
    - id: 10025
    - id: 10027
    - id: 10037
    - id: 10054
    - id: 10055

- type: spider                       
  parameters:
    context: "Context1"       
  tests:
  - name: 'At least 1 URL found'                  
    type: 'stats'                                   
    statistic: 'automation.spider.urls.added'       
    operator: '>='                                  
    value: 1                                      
    onFail: 'info'                             
  
- type: "outputSummary"
  name: "outputSummary"
  parameters:
    format: "Long"
    summaryFile: "/zap/wrk/summary-report.json"
  rules: []
  